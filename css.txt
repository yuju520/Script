<script>
document.addEventListener('DOMContentLoaded', function() {
    var downtimeCells = document.querySelectorAll('th.node-cell.os.center');
    downtimeCells.forEach(function(cell) {
        var newTh = document.createElement('th');
        newTh.className = 'node-cell downtime center';
        newTh.textContent = 'åˆ°æœŸorå¤‡æ³¨';
        cell.parentNode.insertBefore(newTh, cell.nextSibling);
    });

// æ”¹å¯¹åº”å°ğŸ”çš„åºå·ï¼Œé€‰textçš„å°±æ˜¯å¤‡æ³¨ï¼Œé€‰Dateçš„æ”¹YYYY-MM-DDå³å¯
    const affLinks = {
        3: { expiration: new Date('2024-11-14T00:00:00Z'), content: { type: 'text', value: '' } },
        6: { content: { type: 'text', value: 'å®¶é‡ŒğŸ”å„¿' } },
        7: { content: { type: 'text', value: 'æ¯æœˆ14å·ç»­è´¹' } },
        8: { expiration: new Date('2024-11-23T00:00:00Z'), content: { type: 'text', value: '' } },
        9: { expiration: new Date('2024-09-12T00:00:00Z'), content: { type: 'text', value: '' } },
        10: { expiration: new Date('2024-12-27T00:00:00Z'), content: { type: 'text', value: '' } },
        12: { expiration: new Date('2025-03-16T00:00:00Z'), content: { type: 'text', value: '' } },
        14: { expiration: new Date('2025-01-26T11:19:33Z'), content: { type: 'text', value: '' } },
        16: { content: { type: 'text', value: 'æ¯æœˆ14å·ç»­è´¹' } },
        17: { expiration: new Date('2025-02-01T00:00:00Z'), content: { type: 'text', value: '' } }
    };

    const createCountdown = (expirationDate) => {
        const $countdown = document.createElement('div');
        $countdown.className = 'countdown'; // æ·»åŠ ç±»å
        $countdown.style.position = 'relative';
        $countdown.style.width = '100%';
        $countdown.style.height = '16px'; // è¿›åº¦æ¡é«˜åº¦å‡å°
        $countdown.style.backgroundColor = '#3e3e3e';
        $countdown.style.borderRadius = '4px'; // å››ä¸ªè§’å¸¦å¼§åº¦
        $countdown.style.overflow = 'hidden';

        const $progress = document.createElement('div');
        $progress.className = 'progress'; // æ·»åŠ ç±»å
        $progress.style.position = 'absolute';
        $progress.style.height = '100%';
        $progress.style.width = '0%';
        $progress.style.backgroundImage = 'linear-gradient(to right, #48dbfb, #feca57, #ff6b6b)'; // æ¸å˜è‰²ä»è“è‰²åˆ°é»„è‰²å†åˆ°çº¢è‰²
        $progress.style.transition = 'width 0.6s ease';

        const $countdownTime = document.createElement('div');
        $countdownTime.style.position = 'absolute';
        $countdownTime.style.width = '100%';
        $countdownTime.style.height = '100%';
        $countdownTime.style.display = 'flex';
        $countdownTime.style.alignItems = 'center';
        $countdownTime.style.justifyContent = 'center';
        $countdownTime.style.color = '#fff';
        $countdownTime.style.fontWeight = 'bold';
        $countdownTime.style.fontSize = '11px'; // å­—ä½“å¤§å°å‡å°
        $countdownTime.style.textShadow = '1px 1px 2px rgba(0,0,0,0.7)';

        const createMarqueeBorder = (element) => {
            element.style.border = '2px solid';
            element.style.borderImage = 'linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet) 1';
            element.style.animation = 'marquee 2s linear infinite';
        };

        const updateCountdown = () => {
            const now = new Date();
            const diff = expirationDate.getTime() - now.getTime();
            if (diff <= 0) {
                $countdownTime.textContent = 'å·²è¿‡æœŸ';
                $progress.style.width = '100%';
                $progress.style.backgroundColor = '#ff0000'; // æ›´é†’ç›®çš„çº¢è‰²
                $progress.style.backgroundImage = 'none';
                createMarqueeBorder($countdown);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

            const totalDays = Math.ceil((expirationDate - now) / (1000 * 60 * 60 * 24));
            const progressPercent = (365 - totalDays) / 365 * 100; // å‡è®¾ä¸€å¹´ä¸ºåŸºå‡†

            $countdownTime.textContent = `${days}å¤©${hours}å°æ—¶`;
            $progress.style.width = `${progressPercent}%`;
        };

        updateCountdown();
        setInterval(updateCountdown, 3600000); // æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡

        $countdown.appendChild($progress);
        $countdown.appendChild($countdownTime);

        return $countdown;
    };

    const rows = document.querySelectorAll('tr');
    rows.forEach((row) => {
        let osCell = row.querySelector('td.node-cell.os.center');
        let downtimeCell = document.createElement('td');
        downtimeCell.classList.add('node-cell', 'downtime', 'center');
        let nodeId = row.id.substring(1);
        let affLink = affLinks[nodeId];
        if (!affLink) {
            affLink = { content: { type: 'text', value: 'æš‚æ— ' } };
        }
        if (osCell && affLink && affLink.content) {
            let textNode = document.createTextNode(affLink.content.value);
            downtimeCell.appendChild(textNode);

            if (affLink.expiration) {
                let countdown = createCountdown(affLink.expiration);
                downtimeCell.appendChild(countdown);
            }

            osCell.parentNode.insertBefore(downtimeCell, osCell.nextSibling);
        }
    });
});

// å¯¹å·²åˆ°æœŸçš„è¿›åº¦æ¡æ·»åŠ è·‘é©¬ç¯è¾¹æ¡†åŠ¨ç”»æ ·å¼ï¼Œä¸éœ€è¦å¯ä»¥åˆ æ‰
const style = document.createElement('style');
style.innerHTML = `
@keyframes marquee {
    0% {
        border-image-source: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
    }
    50% {
        border-image-source: linear-gradient(to right, violet, indigo, blue, green, yellow, orange, red);
    }
    100% {
        border-image-source: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
    }
}
.countdown {
    animation: marquee 2s linear infinite;
}
`;
document.head.appendChild(style);
</script>


<style>
/* å±å¹•é€‚é… */
@media only screen and (min-width: 1200px) {
	.ui.container {
        width: 80% !important;
    }
}

@media only screen and (max-width: 767px) {
	.ui.card>.content>.header:not(.ui), .ui.cards>.card>.content>.header:not(.ui) {
		margin-top: 0.4em !important;
	}
}
 
/* æ•´ä½“å›¾æ ‡ */
i.icon {
	color: #000;
	width: 1.2em !important;
}
/* èƒŒæ™¯å›¾ç‰‡ */
body {
	content: " " !important;
	background: fixed !important;
	z-index: -1 !important;
	top: 0 !important;
	right: 0 !important;
	bottom: 0 !important;
	left: 0 !important;
	background-position: top !important;
	background-repeat: no-repeat !important;
	background-size: cover !important;
	background-image: url(https://s3.bmp.ovh/imgs/2024/04/16/4670022590a2f367.jpg) !important;
	font-family: Arial,Helvetica,sans-serif !important;
}

/* ç‰ˆæƒ */
.ui.inverted.segment, .ui.primary.inverted.segment {
    color: #000 !important;
    font-weight: bold !important;
    background-color: #fafafaa3 !important;
}
</style>
<!--Logoå’Œç‰ˆæƒ-->
<script>
window.onload = function(){
var avatar=document.querySelector(".item img")
var footer=document.querySelector("div.is-size-7")
footer.innerHTML="Powered by Eros"
footer.style.visibility="visible"
avatar.src="https://s3.bmp.ovh/imgs/2024/04/16/6f4ff591fefb43ca.png"
avatar.style.visibility="visible"
}
var faviconurl="https://s3.bmp.ovh/imgs/2024/04/16/6f4ff591fefb43ca.png" ;            
var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
link.type = 'image/x-icon';
link.rel = 'shortcut icon';
link.href = faviconurl;
document.getElementsByTagName('head')[0].appendChild(link);
</script>
